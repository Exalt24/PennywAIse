{% extends "main/components/base_table.html" %}

{% block table_head %}
  <tr>
    <th class="px-3 py-2 text-left sortable sort-asc" aria-sort="ascending">Title</th>
    <th class="px-3 py-2 text-left sortable" aria-sort="none">Category</th>
    <th class="px-3 py-2 text-left sortable" aria-sort="none">Amount</th>
    <th class="px-3 py-2 text-left sortable" aria-sort="none">Date</th>
    <th class="px-3 py-2 text-left">Actions</th>
  </tr>
{% endblock %}

{% block table_body %}
  {% for entry in entries %}
    <tr
    class="cursor-pointer hover:bg-gray-50"
    data-notes="{{ entry.notes }}"
    >
      <td class="px-3 py-2">{{ entry.title }}</td>
      <td class="px-3 py-2">{{ entry.category.name }}</td>
      <td class="px-3 py-2 {{ amount_class }}">{{ amount_prefix }} â‚±{{ entry.amount }}</td>
      <td class="px-3 py-2">{{ entry.date|date:"M d, Y" }}</td>
      <td class="px-3 py-2 whitespace-nowrap">
        <a href="?edit={{ entry.pk }}#{{ section_id }}"
           class="text-blue-600 hover:underline focus:ring-2 focus:ring-offset-1 focus:ring-blue-400"
           aria-label="Edit entry {{ entry.title }}"
           onclick="event.stopPropagation()"
           >Edit</a>
        <span class="px-1" aria-hidden="true">|</span>
        <form method="post" class="inline" role="presentation">
          {% csrf_token %}
          <button type="submit" name="delete-entry" value="{{ entry.pk }}"
                  class="text-red-600 hover:underline focus:ring-2 focus:ring-offset-1 focus:ring-red-400"
                  onclick="event.stopPropagation(); return confirm('Delete this entry?');"
                  aria-label="Delete entry {{ entry.title }}">Delete</button>
        </form>
      </td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="5"
          class="px-3 py-4 text-center text-gray-500"
          role="alert">{{ empty_message }}</td>
    </tr>
  {% endfor %}
{% endblock %}
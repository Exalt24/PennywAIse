{% extends "main/components/base_table.html" %}

{% block table_head %}
  <tr>
    <th scope="col" class="px-3 py-2 text-left sortable sort-asc" aria-sort="ascending">Title</th>
    <th scope="col" class="px-3 py-2 text-left sortable" aria-sort="none">Category</th>
    <th scope="col" class="px-3 py-2 text-right sortable" aria-sort="none">Amount</th>
    <th scope="col" class="px-3 py-2 text-left sortable" aria-sort="none">Date</th>
    <th scope="col" class="px-3 py-2 text-left sortable" aria-sort="none">Type</th>
  </tr>
{% endblock %}

{% block table_body %}
  <input type="hidden" id="filterApplied" value="false">
  {% for e in report_entries %}
    <tr>
      <td class="px-3 py-2" role="cell">{{ e.title }}</td>
      <td class="px-3 py-2" role="cell" data-cat-id="{{ e.category.id }}">{{ e.category.name }}</td>
      <td class="px-3 py-2 text-right" role="cell">â‚±{{ e.amount|floatformat:2 }}</td>
      <td class="px-3 py-2" role="cell">{{ e.date|date:"Y-m-d" }}</td>
      <td class="px-3 py-2" role="cell">{{ e.get_type_display }}</td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="5" class="px-3 py-4 text-center text-gray-500" role="row">
        No entries.
      </td>
    </tr>
  {% endfor %}
{% endblock %}

{% block extra_content %}
  <!-- Hidden table for full data export -->
  <table id="fullReportTable" class="hidden">
    <thead>
      <tr>
        <th>Title</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Date</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      {% for e in report_entries_all %}
        <tr>
          <td>{{ e.title }}</td>
          <td data-cat-id="{{ e.category.id }}">{{ e.category.name }}</td>
          <td>{{ e.amount|floatformat:2 }}</td>
          <td>{{ e.date|date:"Y-m-d" }}</td>
          <td>{{ e.get_type_display }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}

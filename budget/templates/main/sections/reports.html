{% load static %}

<section id="reports" class="page-content hidden" role="region" aria-label="Reports" data-prefix="rep" >

  {% with section_title="Reports" %}
    {% include "main/subheader.html" %}
  {% endwith %}

    <section class="flex flex-wrap items-end gap-2 header-m">
      <form role="search" aria-label="Filter report entries" class="filters relative grid grid-cols-1 gap-4 mb-4 w-full space-y-2">
        
        <section class="bg-[#fdfdfb] p-4 shadow-sm rounded-xl col-span-1 sm:col-span-2">
          <section class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-semibold">Filters</h2>
            <button
              id="exportCsv"
              aria-label="Export CSV"
              class="px-6 py-2 bg-[#1B1F1E] hover:bg-[#3f3a36] text-white rounded-full transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#3f3a36]"
            >
              Export CSV
            </button>
          </section>
        <section class="grid grid-cols-1 md:grid-cols-2 gap-2 space-x-2">
        <section class="flex flex-col space-y-1">
          <label for="repFrom" class="text-sm font-semibold">From</label>
          <input type="date" id="repFrom" class="px-2 py-1 border rounded" aria-label="Filter from date" />
        </section>
        <section class="flex flex-col space-y-1">
          <label for="repTo" class="text-sm font-semibold">To</label>
          <input type="date" id="repTo" class="px-2 py-1 border rounded" aria-label="Filter to date" />
        </section>
        <section class="flex flex-col space-y-1">
          <label for="repType" class="text-sm font-semibold">Type</label>
          <select id="repType" class="px-2 py-1 border rounded" aria-label="Filter by type">
            <option value="">Both</option>
            <option value="IN">Income</option>
            <option value="EX">Expense</option>
          </select>
        </section>
        <section class="flex flex-col space-y-1">
          <label for="repCat" class="text-sm font-semibold">Category</label>
          <select id="repCat" class="px-2 py-1 border rounded" aria-label="Filter by category">
            <option value="">All</option>
            {% for cat in user_categories %}
              <option value="{{ cat.id }}">{{ cat.name }}</option>
            {% endfor %}
          </select>
        </section>
      </section>
      </section>
      </form>
    </section>

    <section id="repContainer">
      {% with section_id="reports" aria_label="Report entries table" table_id="reportTable" page_obj=page_obj_report page_param="report_page" tbody_id="reportTable" %}
        {% include "main/components/tables/report_table.html" %}
      {% endwith %}
    </section>
</section>